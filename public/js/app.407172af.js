(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],u=0,b=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("5530"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),a=n("bc3a"),c=n.n(a),i=(n("ba8c"),n("b0c0"),{class:"sm:m-6 sm:p-6 rounded-xl bg-white"}),s={class:"sm:text-4xl text-3xl mb-4"},l={key:0},d={key:1},u={key:2},b={key:0,class:"md:flex md:space-x-4"},f={key:1},m={key:0,class:"md:flex md:space-x-4"},p={key:2},h={class:"text-2xl"},g={key:0,class:"p-4"},j=Object(o["f"])("label",{for:"add-curling"},"Curlingbahn zubuchen",-1),O={key:1},k=Object(o["f"])("h2",{class:"text-2xl"},"Curlingbahn",-1),v={key:3},y={class:"p-4 my-4 bg-gray-100 rounded-xl"},x=Object(o["f"])("h2",{class:"mb-4 text-2xl"},"Überprüfen Sie Ihre Buchung",-1),_={class:"text-xl"},B={key:0},w={key:0,class:"m-2 px-3 py-2 rounded-xl bg-yellow-200 text-center"},C={key:1,class:"m-8"};function S(e,t,n,r,a,c){var S=Object(o["i"])("BappRoom"),P=Object(o["i"])("BappProduct"),R=Object(o["i"])("BappCalendar"),T=Object(o["i"])("BappCustomerForm");return Object(o["g"])(),Object(o["c"])("div",i,[Object(o["f"])("h1",s,Object(o["j"])(a.venue.name)+" Buchungsportal",1),a.loading?(Object(o["g"])(),Object(o["c"])("div",l,"Lade Daten...")):a.error?(Object(o["g"])(),Object(o["c"])("div",d,"Da ist wohl etwas schief gelaufen. Bitte kontaktieren Sie uns telefonisch.")):(Object(o["g"])(),Object(o["c"])("div",u,[a.selectedRoom||a.selectedProduct?Object(o["d"])("",!0):(Object(o["g"])(),Object(o["c"])("div",b,[Object(o["f"])(S,{onSelectRoom:t[1]||(t[1]=function(e){return c.selectRoom(e)}),class:"flex-1",room:c.room(1)},null,8,["room"]),Object(o["f"])(S,{onSelectRoom:t[2]||(t[2]=function(e){return c.selectRoom(e)}),class:"flex-1",room:c.room(2)},null,8,["room"])])),a.selectedRoom&&!a.selectedProduct?(Object(o["g"])(),Object(o["c"])("div",f,[Object(o["f"])("div",null,[Object(o["f"])("button",{onClick:t[3]||(t[3]=function(e){return c.deselectRoom()}),class:"px-4 py-1 mb-2 rounded-xl bg-blue-200 hover:bg-blue-300"}," zurück ")]),1===a.selectedRoom.id?(Object(o["g"])(),Object(o["c"])("div",m,[Object(o["f"])(P,{onSelectProduct:t[4]||(t[4]=function(e){return c.selectProduct(e)}),class:"flex-1",product:c.room(1).products[0]},null,8,["product"]),Object(o["f"])(P,{onSelectProduct:t[5]||(t[5]=function(e){return c.selectProduct(e)}),class:"flex-1",product:c.room(1).products[1]},null,8,["product"])])):Object(o["d"])("",!0)])):Object(o["d"])("",!0),a.selectedRoom&&a.selectedProduct?(Object(o["g"])(),Object(o["c"])("div",p,[Object(o["f"])("div",null,[Object(o["f"])("button",{onClick:t[6]||(t[6]=function(e){return c.deselectProduct(a.selectedProduct)}),class:"px-4 py-1 mb-2 rounded-xl bg-blue-200 hover:bg-blue-300"}," zurück ")]),Object(o["f"])("h2",h,Object(o["j"])(a.selectedProduct.name),1),Object(o["f"])(R,{room:a.selectedRoom,product:a.selectedProduct,onPlaceBooking:t[7]||(t[7]=function(e){return a.selectedBooking=e})},null,8,["room","product"]),1===a.selectedRoom.id?(Object(o["g"])(),Object(o["c"])("div",g,[j,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.addCurling=e}),type:"checkbox",name:"add-curling"},null,512),[[o["k"],a.addCurling]])])):Object(o["d"])("",!0),a.addCurling?(Object(o["g"])(),Object(o["c"])("div",O,[k,Object(o["f"])(R,{room:c.room(2),product:c.room(2).products[0],onPlaceBooking:t[9]||(t[9]=function(e){return a.curlingBooking=e})},null,8,["room","product"])])):Object(o["d"])("",!0)])):Object(o["d"])("",!0),a.selectedRoom&&a.selectedProduct&&a.selectedBooking&&(!a.addCurling||a.addCurling&&a.curlingBooking)?(Object(o["g"])(),Object(o["c"])("div",v,[Object(o["f"])("div",y,[x,Object(o["f"])("ul",_,[Object(o["f"])("li",null,Object(o["j"])(c.formatBookingData(a.selectedBooking))+" : "+Object(o["j"])(a.selectedProduct.name)+" für "+Object(o["j"])(a.selectedBooking.quantity)+" Personen",1),a.addCurling?(Object(o["g"])(),Object(o["c"])("li",B,Object(o["j"])(c.formatBookingData(a.curlingBooking))+" : "+Object(o["j"])(a.curlingBooking.quantity)+" Bahnen auf der "+Object(o["j"])(c.room(2).products[0].name),1)):Object(o["d"])("",!0)])]),a.addCurling&&a.selectedBooking.starts_at.dayOfYear()!==a.curlingBooking.starts_at.dayOfYear()?(Object(o["g"])(),Object(o["c"])("div",w," Hinweis! Ihre Buchungen sind an verschiedenen Tagen! Fahren Sie nur fort, wenn dies so gewollt ist. ")):Object(o["d"])("",!0),a.selectedBooking&&(!a.addCurling||a.addCurling&&a.curlingBooking)?(Object(o["g"])(),Object(o["c"])("div",C,[Object(o["f"])(T,{onCustomerCompleted:t[10]||(t[10]=function(e){return c.submitBooking(e)})})])):Object(o["d"])("",!0)])):Object(o["d"])("",!0)]))])}var P=n("1da1"),R=(n("7db0"),n("99af"),n("96cf"),n("a4d3"),n("e01a"),{class:"text-2xl"});function T(e,t,n,r,a,c){return Object(o["g"])(),Object(o["c"])("article",{onClick:t[1]||(t[1]=function(t){return e.$emit("select-room",n.room)}),class:"rounded-xl p-4 hover:bg-gray-100"},[Object(o["f"])("h2",R,Object(o["j"])(n.room.name),1),Object(o["f"])("p",null,Object(o["j"])(n.room.slogan),1),Object(o["f"])("img",{src:n.room.image,alt:"".concat(n.room.name," Foto"),class:"h-64 rounded-xl"},null,8,["src","alt"]),Object(o["f"])("div",{class:"py-4",innerHTML:n.room.description},null,8,["innerHTML"])])}var M={name:"BappRoom",props:{room:{type:Object,required:!0}}};M.render=T;var D=M,z={class:"text-2xl"};function E(e,t,n,r,a,c){return Object(o["g"])(),Object(o["c"])("article",{onClick:t[1]||(t[1]=function(t){return e.$emit("select-product",n.product)}),class:"rounded-xl p-4 hover:bg-gray-100"},[Object(o["f"])("h2",z,Object(o["j"])(n.product.name),1),Object(o["f"])("p",null,Object(o["j"])(n.product.slogan),1),Object(o["f"])("img",{src:n.product.image,alt:"".concat(n.product.name," Foto"),class:"h-64 rounded-xl"},null,8,["src","alt"]),Object(o["f"])("div",{class:"py-4",innerHTML:n.product.description},null,8,["innerHTML"])])}var A={name:"BappProduct",props:{product:{type:Object,required:!0}}};A.render=E;var q=A,F={class:"rounded-xl p-4 bg-gray-100 flex justify-center"},V={key:0,class:"absolute loader ease-linear rounded-full border-8 border-t-8 border-gray-200 flex justify-center align-middle h-24 w-24"},Y={key:1,class:"flex flex-col"},U={class:"flex justify-between p-2 rounded text-center bg-gray-200"},W={class:"bg-gray-200"},H=Object(o["f"])("td",{class:"md:w-28 w-24 pl-2"},"Tag / Stunde",-1),I={class:"hidden sm:block"},L={class:"md:flex md:justify-evenly"},G=Object(o["f"])("label",{for:"starts_at"},"Von",-1),$=Object(o["e"])(":00 Uhr "),J=Object(o["f"])("label",{for:"ends_at"},"Bis",-1),Q=Object(o["e"])(":59 Uhr "),Z=Object(o["f"])("label",{for:"quantity"},"Menge",-1),K={class:"ml-2"},N={key:0,class:"p-2 rounded text-center bg-red-200"},X=Object(o["e"])(" Daten für "),ee={class:"font-semibold"},te=Object(o["e"])(" übernehmen ");function ne(e,t,n,r,a,c){var i,s,l;return Object(o["g"])(),Object(o["c"])("div",F,[a.loading?(Object(o["g"])(),Object(o["c"])("div",V)):Object(o["d"])("",!0),a.bookings&&a.calendar?(Object(o["g"])(),Object(o["c"])("div",Y,[Object(o["f"])("div",U,[Object(o["f"])("button",{onClick:t[1]||(t[1]=function(e){return c.moveWeek("prev")}),class:["px-3 py-1 rounded-xl bg-blue-200 hover:bg-blue-300",{invisible:c.hideMoveWeekButton("prev")}],"aria-hidden":c.hideMoveWeekButton("prev")},"Früher",10,["aria-hidden"]),Object(o["f"])("button",{onClick:t[2]||(t[2]=function(e){return c.moveWeek("next")}),class:["px-3 py-1 rounded-xl bg-blue-200 hover:bg-blue-300",{invisible:c.hideMoveWeekButton("next")}],"aria-hidden":c.hideMoveWeekButton("next")},"Später",10,["aria-hidden"])]),Object(o["f"])("table",null,[Object(o["f"])("thead",null,[Object(o["f"])("tr",W,[H,(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["h"])(a.calendar[0],(function(e,t){return Object(o["g"])(),Object(o["c"])("th",{key:t,class:"md:w-16 sm:w-12 w-8 py-1 text-center"},Object(o["j"])(e.datetime.hour()),1)})),128))])]),(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["h"])(a.calendar,(function(e,t){return Object(o["g"])(),Object(o["c"])("tr",{key:t},[Object(o["f"])("th",{class:"py-1 sm:pl-2 sm:hover:-pl-2 hover:bg-gray-200 rounded text-left",onClick:function(n){return c.updateDayOfYear(e[0].datetime,t)}},Object(o["j"])(e[0].datetime.format("dd D.M.")),9,["onClick"]),(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["h"])(e,(function(e,t){return Object(o["g"])(),Object(o["c"])("td",{key:t,onClick:function(t){return c.updateTimeFromCalendar(e.datetime)},class:["px-2 text-center hover:bg-gray-200 sm:border-none border border-gray-400 ",e.color]},[Object(o["f"])("span",I,Object(o["j"])(e.free),1)],10,["onClick"])})),128))])})),128))]),Object(o["f"])("div",{class:["py-2 my-2 rounded",{error:"bg-red-200"}]},[Object(o["f"])("div",L,[Object(o["f"])("div",null,[G,Object(o["f"])("input",{type:"number",name:"starts_at",id:"starts_at",value:null===(i=a.booking.starts_at)||void 0===i?void 0:i.hour(),onInput:t[3]||(t[3]=function(e){return c.updateStartsAt(e)}),min:n.product.opens_at.substr(0,2),max:n.product.closes_at.substr(0,2),class:"ml-2 w-20 border-none h-8"},null,40,["value","min","max"]),$]),Object(o["f"])("div",null,[J,Object(o["f"])("input",{type:"number",name:"ends_at",id:"ends_at",value:null===(s=a.booking.ends_at)||void 0===s?void 0:s.hour(),onInput:t[4]||(t[4]=function(e){return c.updateEndsAt(e)}),min:n.product.opens_at.substr(0,2),max:n.product.closes_at.substr(0,2),class:"ml-2 w-20 border-none h-8"},null,40,["value","min","max"]),Q]),Object(o["f"])("div",null,[Z,Object(o["f"])("input",{value:a.booking.quantity,onInput:t[5]||(t[5]=function(e){return c.updateQuantity(e)}),type:"number",name:"quantity",id:"quantity",min:null!==(l=n.product.min_occupancy)&&void 0!==l?l:0,max:n.room.capacity,class:"ml-2 w-20 border-none h-8"},null,40,["value","min","max"]),Object(o["f"])("span",K,"(Min: "+Object(o["j"])(n.product.min_occupancy)+")",1)])])]),a.error?(Object(o["g"])(),Object(o["c"])("div",N,Object(o["j"])(this.error),1)):Object(o["d"])("",!0),a.validated?(Object(o["g"])(),Object(o["c"])("button",{key:1,class:"p-2 rounded text-center bg-green-200 hover:bg-green-300",onClick:t[6]||(t[6]=function(e){return c.placeBooking()})},[X,Object(o["f"])("span",ee,Object(o["j"])(n.product.name),1),te])):Object(o["d"])("",!0)])):Object(o["d"])("",!0)])}var re=n("2909"),oe=(n("ac1f"),n("1276"),n("159b"),n("5a0c")),ae=n.n(oe),ce={name:"BappCalendar",props:{room:{type:Object,required:!0},product:{type:Object,required:!0}},data:function(){var e;return{loading:!1,calendar:null,offset:0,setTime:"start",bookings:null,booking:{starts_at:null,ends_at:null,quantity:null!==(e=this.product.min_occupancy)&&void 0!==e?e:0,color:!0},error:"",errors:{capacityExceeded:"Für Ihre Auswahl sind nicht genug Plätze frei.",minOccupancyError:"Sie haben die Mindestbelegung unterschritten",startTooEarly:"Die Startzeit liegt außerhalb der Öffnungszeiten.",endTooLate:"Die Endzeit liegt außerhalb der Öffnungszeiten.",endBeforeStart:"Die Startzeit muss vor der Endzeit liegen."},validated:!1}},mounted:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBookings();case 2:e.makeCalendar();case 3:case"end":return t.stop()}}),t)})))()},methods:{updateStartsAt:function(e){var t;this.booking.starts_at=(null===(t=this.booking.starts_at)||void 0===t?void 0:t.hour(e.target.value))||ae()(this.product.opens_at),this.makeCalendar(),this.checkStartAndEndTimes()},updateEndsAt:function(e){var t;this.booking.ends_at=(null===(t=this.booking.ends_at)||void 0===t?void 0:t.hour(e.target.value))||ae()(this.product.closes_at),this.makeCalendar(),this.checkStartAndEndTimes()},updateDayOfYear:function(e){this.booking.starts_at=this.booking.starts_at.dayOfYear(e.dayOfYear()),this.booking.ends_at=this.booking.ends_at.dayOfYear(e.dayOfYear()),this.makeCalendar()},updateTimeFromCalendar:function(e){"start"===this.setTime?(this.booking.starts_at=e,this.booking.ends_at=e):(this.booking.ends_at=this.booking.starts_at.hour(e.hour()),this.maybeSwitchStartAndEnd()),this.toggleStartEndTime(),this.makeCalendar()},checkStartAndEndTimes:function(){this.booking.starts_at.isBefore(this.product.opens_at)&&(this.error=this.errors.startTooEarly),this.booking.ends_at.isAfter(this.product.closes_at)&&(this.error=this.errors.endTooLate),this.booking.ends_at.isBefore(this.booking.starts_at)&&(this.error=this.errors.endBeforeStart)},maybeSwitchStartAndEnd:function(){if(this.booking.ends_at.isSameOrBefore(this.booking.starts_at)){var e=this.booking.ends_at;this.booking.ends_at=this.booking.starts_at,this.booking.starts_at=e}},updateQuantity:function(e){this.booking.quantity=e.target.value,this.makeCalendar()},moveWeek:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return"prev"===e&&(t.offset--,t.booking.starts_at&&t.booking.ends_at&&(t.booking.starts_at=t.booking.starts_at.subtract(1,"week"),t.booking.ends_at=t.booking.ends_at.subtract(1,"week"))),"next"===e&&(t.offset++,t.booking.starts_at&&t.booking.ends_at&&(t.booking.starts_at=t.booking.starts_at.add(1,"week"),t.booking.ends_at=t.booking.ends_at.add(1,"week"))),n.next=4,t.fetchBookings();case 4:t.makeCalendar();case 5:case"end":return n.stop()}}),n)})))()},hideMoveWeekButton:function(e){return"prev"===e?!this.firstCalendarDay().isAfter(this.product.starts_at,"day"):"next"===e?!this.lastCalendarDay().isBefore(this.product.ends_at,"day"):void 0},toggleStartEndTime:function(){this.setTime="start"===this.setTime?"end":"start"},firstCalendarDay:function(){return this.calendar[0][0].datetime},lastCalendarDay:function(){return this.calendar[this.calendar.length-1][0].datetime},validate:function(){this.validated=this.booking.starts_at&&this.booking.ends_at&&this.booking.quantity&&!this.error},makeCalendar:function(){this.makeWeek(),this.applyBookings(),this.booking.starts_at&&this.booking.ends_at&&this.applyBooking(this.booking),this.validate(),this.$emit("place-booking",null)},makeWeek:function(){var e,t,n,r,o,a=(e=ae()().startOf("week").add(this.offset,"weeks")).hour.apply(e,Object(re["a"])(this.product.opens_at.split(":"))),c=(t=ae()().endOf("week").add(this.offset,"weeks")).hour.apply(t,Object(re["a"])(this.product.closes_at.split(":")));a.isBefore(this.product.starts_at)&&(a=(r=ae()(this.product.starts_at)).hour.apply(r,Object(re["a"])(this.product.opens_at.split(":"))));c.isAfter(this.product.ends_at)&&(c=(o=ae()(this.product.ends_at)).hour.apply(o,Object(re["a"])(this.product.closes_at.split(":"))));var i=[],s=a.clone(),l=(n=a).hour.apply(n,Object(re["a"])(this.product.closes_at.split(":")));while(s.isSameOrBefore(c,"days")){var d,u,b=[];while(s.isBefore(l,"hours"))b.push({datetime:s,free:this.room.capacity}),s=s.add(1,"hour");i.push(b),s=(d=s).hour.apply(d,Object(re["a"])(this.product.opens_at.split(":"))).add(1,"day"),l=(u=s).hour.apply(u,Object(re["a"])(this.product.closes_at.split(":")))}this.calendar=i},fetchBookings:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ae()().startOf("week").add(e.offset,"weeks").format("YYYY-MM-DD"),r=ae()().endOf("week").add(e.offset,"weeks").format("YYYY-MM-DD"),e.loading=!0,t.next=5,c.a.get("rooms/".concat(e.room.id,"/bookings?from=").concat(n,"&to=").concat(r));case 5:o=t.sent,e.loading=!1,e.bookings=o.data;case 8:case"end":return t.stop()}}),t)})))()},applyBookings:function(){var e=this;this.bookings.forEach((function(t){return e.applyBooking(t)}))},applyBooking:function(e){this.error="",this.booking.quantity<this.product.min_occupancy&&(this.error=this.errors.minOccupancyError);var t=ae()(e.starts_at);while(t.isSameOrBefore(ae()(e.ends_at),"minute")){var n=void 0,r=void 0;if(t.isSameOrAfter(t.hour(this.product.opens_at.substring(0,2)),"minute")&&(n=(t.day()+6)%7,r=t.subtract(this.product.opens_at.substring(0,2),"hours").hour(),n<this.calendar.length&&r<this.calendar[n].length)){var o=this.calendar[n][r];o.free-=e.quantity,o.free<0&&(o.color="bg-red-200"),e.color&&(o.free>=0?o.color="bg-green-300":(this.error=this.errors.capacityExceeded,o.color="bg-red-400"))}t=t.add(1,"hour")}},placeBooking:function(){this.$emit("place-booking",this.booking),this.validated=!1}}};n("7655");ce.render=ne;var ie=ce,se={class:"md:flex"},le={class:"md:w-1/2 mr-6"},de={class:"flex flex-col my-2"},ue=Object(o["f"])("label",{for:"first-name"},"Vorname *",-1),be={key:0,class:"text-red-600"},fe={class:"flex flex-col my-2"},me=Object(o["f"])("label",{for:"last-name"},"Nachname *",-1),pe={key:0,class:"text-red-600"},he={class:"flex flex-col my-2"},ge=Object(o["f"])("label",{for:"company"},"Firma",-1),je={class:"flex flex-col my-2"},Oe=Object(o["f"])("label",{for:"show_curling"},"E-Mail *",-1),ke={key:0,class:"text-red-600"},ve={class:"flex flex-col my-2"},ye=Object(o["f"])("label",{for:"phone"},"Telefon",-1),xe={key:0,class:"text-red-600"},_e={class:"md:w-1/2 ml-6"},Be={key:0,class:"text-red-600"},we={class:"flex flex-col my-2"},Ce=Object(o["f"])("label",{for:"street"},"Straße *",-1),Se={class:"flex flex-col my-2"},Pe=Object(o["f"])("label",{for:"street-no"},"Hausnummer *",-1),Re={class:"flex flex-col my-2"},Te=Object(o["f"])("label",{for:"zip"},"PLZ *",-1),Me={class:"flex flex-col my-2"},De=Object(o["f"])("label",{for:"city"},"Stadt *",-1),ze=Object(o["f"])("div",{class:"text-sm text-gray-700 float-right"},"Die mit * gekennzeichneten Felder sind Pflichtfelder.",-1),Ee=Object(o["f"])("button",{type:"submit",class:"w-full my-6 py-2 rounded-xl bg-green-200 hover:bg-green-300"}," Jetzt buchen ",-1);function Ae(e,t,n,r,a,c){return Object(o["g"])(),Object(o["c"])("form",{onSubmit:t[10]||(t[10]=Object(o["n"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["f"])("div",se,[Object(o["f"])("div",le,[Object(o["f"])("div",de,[ue,a.errors.first_name?(Object(o["g"])(),Object(o["c"])("div",be,Object(o["j"])(a.errors.first_name),1)):Object(o["d"])("",!0),Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.first_name=e}),type:"text",id:"first-name"},null,512),[[o["l"],a.form.first_name]])]),Object(o["f"])("div",fe,[me,a.errors.last_name?(Object(o["g"])(),Object(o["c"])("div",pe,Object(o["j"])(a.errors.last_name),1)):Object(o["d"])("",!0),Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.last_name=e}),type:"text",id:"last-name"},null,512),[[o["l"],a.form.last_name]])]),Object(o["f"])("div",he,[ge,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.company=e}),type:"text",id:"company"},null,512),[[o["l"],a.form.company]])]),Object(o["f"])("div",je,[Oe,a.errors.email?(Object(o["g"])(),Object(o["c"])("div",ke,Object(o["j"])(a.errors.email),1)):Object(o["d"])("",!0),Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.email=e}),type:"text",id:"email"},null,512),[[o["l"],a.form.email]])]),Object(o["f"])("div",ve,[ye,a.errors.phone?(Object(o["g"])(),Object(o["c"])("div",xe,Object(o["j"])(a.errors.phone),1)):Object(o["d"])("",!0),Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.form.phone=e}),type:"text",id:"phone"},null,512),[[o["l"],a.form.phone]])])]),Object(o["f"])("div",_e,[a.errors.address?(Object(o["g"])(),Object(o["c"])("div",Be,Object(o["j"])(a.errors.address),1)):Object(o["d"])("",!0),Object(o["f"])("div",we,[Ce,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.form.street=e}),type:"text",id:"street"},null,512),[[o["l"],a.form.street]])]),Object(o["f"])("div",Se,[Pe,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.form.street_no=e}),type:"text",id:"street-no"},null,512),[[o["l"],a.form.street_no]])]),Object(o["f"])("div",Re,[Te,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.form.zip=e}),type:"text",id:"zip"},null,512),[[o["l"],a.form.zip]])]),Object(o["f"])("div",Me,[De,Object(o["m"])(Object(o["f"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.form.city=e}),type:"text",id:"city"},null,512),[[o["l"],a.form.city]])])])]),ze,Ee],32)}n("b64b");var qe={name:"BappCustomerForm",data:function(){return{form:{first_name:"",last_name:"",company:"",email:"",phone:"",street:"",street_no:"",zip:"",city:""},errors:{},submitted:!1}},watch:{form:{deep:!0,handler:function(){this.submitted&&this.validate()}}},methods:{handleSubmit:function(){this.validate(),0===Object.keys(this.errors).length&&this.$emit("customer-completed",this.form),this.submitted=!0},validate:function(){this.errors={},""===this.form.first_name&&(this.errors.first_name="Geben Sie ihren Vornamen ein"),""===this.form.last_name&&(this.errors.last_name="Geben Sie ihren Nachnamen ein"),""===this.form.email&&(this.errors.email="Geben Sie ihren E-Mail-Adresse ein"),""===this.form.phone&&(this.errors.phone="Geben Sie ihren Telefonnummer ein"),""!==this.form.street&&""!==this.form.street_no&&""!==this.form.zip&&""!==this.form.city||(this.errors.address="Geben Sie ihre vollständige Adresse ein. Alle vier Felder müssen ausgefüllt werden.")}}};qe.render=Ae;var Fe=qe,Ve={name:"BappCal",components:{BappRoom:D,BappProduct:q,BappCalendar:ie,BappCustomerForm:Fe},data:function(){return{loading:!0,error:!1,venue:{},selectedRoom:null,selectedProduct:null,selectedBooking:null,addCurling:!1,curlingBooking:null,showCustomerForm:!1}},mounted:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("config");case 3:n=t.sent,e.venue=n.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),e.error=!0;case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:{room:function(e){return this.venue.rooms.find((function(t){return t.id===e}))},selectRoom:function(e){this.selectedRoom=e,2===e.id&&this.selectProduct(this.room(2).products[0]),console.log("room "+e.name+" selected")},selectProduct:function(e){this.selectedProduct=e},deselectProduct:function(e){var t=e.id;this.selectedProduct=null,3===t&&(this.selectedRoom=null),this.addCurling=!1,this.showCustomerForm=!1},deselectRoom:function(){this.selectedProduct=null,this.selectedRoom=null,this.addCurling=!1,this.showCustomerForm=!1},formatBookingData:function(e){return"".concat(e.starts_at.format("dddd, D.M.")," von ").concat(e.starts_at.format("HH:mm")," bis ").concat(e.ends_at.add(1,"hour").format("HH:mm"))},collectBookings:function(){var e=[{roomId:this.selectedRoom.id,productId:this.selectedProduct.id,booking:this.selectedBooking}];return this.addCurling&&e.push({roomId:2,productId:3,booking:this.curlingBooking}),e},submitBooking:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),r=t.collectBookings(),n.next=4,c.a.post("venues/".concat(t.venue.id,"/orders"),{bookings:r,customer:e});case 4:o=n.sent,console.log(o);case 6:case"end":return n.stop()}}),n)})))()}}};Ve.render=S;var Ye=Ve,Ue=n("0ecf"),We=n.n(Ue),He=n("6210"),Ie=n.n(He),Le=n("5e0f"),Ge=n.n(Le),$e=n("1953"),Je=n.n($e),Qe=n("e418"),Ze=n.n(Qe),Ke=n("b375"),Ne=n.n(Ke),Xe=n("d758"),et=n.n(Xe),tt=n("8d82"),nt=n.n(tt),rt="1|eZiKXxZPJdfWbtKQdc5kzycRwUSelVVB7sV4Aghq";c.a.defaults.baseURL="http://localhost/api",c.a.defaults.headers.post["Accept"]="application/json",c.a.defaults.headers.common["Authorization"]="Bearer ".concat(rt),ae.a.extend(We.a),ae.a.extend(Je.a),ae.a.tz.setDefault("Europe/Berlin"),ae.a.locale(Object(r["a"])(Object(r["a"])({},Ie.a),{},{weekStart:1})),ae.a.extend(Ge.a),ae.a.extend(Ze.a),ae.a.extend(Ne.a),ae.a.extend(et.a),ae.a.extend(nt.a),Object(o["b"])(Ye).mount("#app")},7655:function(e,t,n){"use strict";n("80e9")},"80e9":function(e,t,n){},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.407172af.js.map